<Project Sdk="Microsoft.NET.Sdk">

  <Import Project="$(SolutionDir)..\build\package.props" />
  <Import Project="$(SolutionDir)..\build\build.props" />

  <PropertyGroup>
    <Description>This package contains the full-stack build for HQ.IO.</Description>
    <PackageTags>hq-stack</PackageTags>
    <Version>1.0.12</Version>
  </PropertyGroup>

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <Configurations>Debug;Release;PackageSources;Package</Configurations>
    <CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
    <DefineConstants>TRACE;PLATFORM</DefineConstants>
  </PropertyGroup>

  <ItemGroup Condition="'$(Configuration)'!='PackageSources'">
    <Content Include="..\Stack\HQ.Common\src\HQ.Common\**\*.cs" Exclude="..\Stack\HQ.Common\src\HQ.Common\obj\**;..\Stack\HQ.Common\src\HQ.Common\bin\**" Link="Common\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Common\src\HQ.Common.AspNetCore\**\*.cs" Exclude="..\Stack\HQ.Common\src\HQ.Common.AspNetCore\obj\**;..\Stack\HQ.Common\src\HQ.Common.AspNetCore\bin\**" Link="Common.AspNetCore\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cadence\src\HQ.Cadence\**\*.cs" Exclude="..\Stack\HQ.Cadence\src\HQ.Cadence\obj\**;..\Stack\HQ.Cadence\src\HQ.Cadence\bin\**" Link="Cadence\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cadence\src\HQ.Cadence.AspNetCore\**\*.cs" Exclude="..\Stack\HQ.Cadence\src\HQ.Cadence.AspNetCore\obj\**;..\Stack\HQ.Cadence\src\HQ.Cadence.AspNetCore\bin\**" Link="Cadence.AspNetCore\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cadence\src\HQ.Cadence.Reporters.Console\**\*.cs" Exclude="..\Stack\HQ.Cadence\src\HQ.Cadence.Reporters.Console\obj\**;..\Stack\HQ.Cadence\src\HQ.Cadence.Reporters.Console\bin\**" Link="Cadence.Reporters.Console\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cadence\src\HQ.Cadence\**\*.cs" Exclude="..\Stack\HQ.Cadence\src\HQ.Cadence\obj\**;..\Stack\HQ.Cadence\src\HQ.Cadence\bin\**" Link="Cadence\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Remix\src\HQ.Remix\**\*.cs" Exclude="..\Stack\HQ.Remix\src\HQ.Remix\obj\**;..\Stack\HQ.Remix\src\HQ.Remix\bin\**" Link="Remix\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Harmony\src\HQ.Harmony\**\*.cs" Exclude="..\Stack\HQ.Harmony\src\HQ.Harmony\obj\**;..\Stack\HQ.Harmony\src\HQ.Harmony\bin\**" Link="Harmony\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Harmony\src\HQ.Harmony.AspNetCore\**\*.cs" Exclude="..\Stack\HQ.Harmony\src\HQ.Harmony.AspNetCore\obj\**;..\Stack\HQ.Harmony\src\HQ.Harmony.AspNetCore\bin\**" Link="Harmony.AspNetCore\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Touchstone\src\HQ.Touchstone\**\*.cs" Exclude="..\Stack\HQ.Touchstone\src\HQ.Touchstone\obj\**;..\Stack\HQ.Touchstone\src\HQ.Touchstone\bin\**" Link="Touchstone\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Touchstone\src\HQ.Touchstone.Xunit\**\*.cs" Exclude="..\Stack\HQ.Touchstone\src\HQ.Touchstone.Xunit\obj\**;..\Stack\HQ.Touchstone\src\HQ.Touchstone.Xunit\bin\**" Link="Touchstone.Xunit\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Rosetta\src\HQ.Rosetta\**\*.cs" Exclude="..\Stack\HQ.Rosetta\src\HQ.Rosetta\obj\**;..\Stack\HQ.Rosetta\src\HQ.Rosetta\bin\**" Link="Rosetta\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Domicile\src\HQ.Domicile\**\*.cs" Exclude="..\Stack\HQ.Domicile\src\HQ.Domicile\obj\**;..\Stack\HQ.Domicile\src\HQ.Domicile\bin\**" Link="Domicile\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.MissionControl\src\HQ.MissionControl\**\*.cs" Exclude="..\Stack\HQ.MissionControl\src\HQ.MissionControl\obj\**;..\Stack\HQ.MissionControl\src\HQ.MissionControl\bin\**" Link="MissionControl\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Flow\src\HQ.Flow\**\*.cs" Exclude="..\Stack\HQ.Flow\src\HQ.Flow\obj\**;..\Stack\HQ.Flow\src\HQ.Flow\bin\**" Link="Flow\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Tokens\src\HQ.Tokens\**\*.cs" Exclude="..\Stack\HQ.Tokens\src\HQ.Tokens\obj\**;..\Stack\HQ.Tokens\src\HQ.Tokens\bin\**" Link="Tokens\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Tokens\src\HQ.Tokens.AspNetCore.Mvc\**\*.cs" Exclude="..\Stack\HQ.Tokens\src\HQ.Tokens.AspNetCore.Mvc\obj\**;..\Stack\HQ.Tokens\src\HQ.Tokens.AspNetCore.Mvc\bin\**" Link="Tokens.AspNetCore.Mvc\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cohort\src\HQ.Cohort\**\*.cs" Exclude="..\Stack\HQ.Cohort\src\HQ.Cohort\obj\**;..\Stack\HQ.Cohort\src\HQ.Cohort\bin\**" Link="Cohort\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cohort\src\HQ.Cohort.AspNetCore.Mvc\**\*.cs" Exclude="..\Stack\HQ.Cohort\src\HQ.Cohort.AspNetCore.Mvc\obj\**;..\Stack\HQ.Cohort\src\HQ.Cohort.AspNetCore.Mvc\bin\**" Link="Cohort.AspNetCore.Mvc\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Cohort\src\HQ.Cohort.Stores.Sql\**\*.cs" Exclude="..\Stack\HQ.Cohort\src\HQ.Cohort.Stores.Sql\obj\**;..\Stack\HQ.Cohort\src\HQ.Cohort.Stores.Sql\bin\**" Link="Cohort.Stores.Sql\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Connect\src\HQ.Connect\**\*.cs" Exclude="..\Stack\HQ.Connect\src\HQ.Connect\obj\**;..\Stack\HQ.Connect\src\HQ.Connect\bin\**" Link="Connect\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Lingo\src\HQ.Lingo\**\*.cs" Exclude="..\Stack\HQ.Lingo\src\HQ.Lingo\obj\**;..\Stack\HQ.Lingo\src\HQ.Lingo\bin\**" Link="Lingo\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Lingo\src\HQ.Lingo.Builders\**\*.cs" Exclude="..\Stack\HQ.Lingo\src\HQ.Lingo.Builders\obj\**;..\Stack\HQ.Lingo\src\HQ.Lingo.Builders\bin\**" Link="Lingo.Builders\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Lingo\src\HQ.Lingo.Dapper\**\*.cs" Exclude="..\Stack\HQ.Lingo\src\HQ.Lingo.Dapper\obj\**;..\Stack\HQ.Lingo\src\HQ.Lingo.Dapper\bin\**" Link="Lingo.Dapper\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Lingo\src\HQ.Lingo.Queries\**\*.cs" Exclude="..\Stack\HQ.Lingo\src\HQ.Lingo.Queries\obj\**;..\Stack\HQ.Lingo\src\HQ.Lingo.Queries\bin\**" Link="Lingo.Queries\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Lingo\src\HQ.Lingo.Descriptor\**\*.cs" Exclude="..\Stack\HQ.Lingo\src\HQ.Lingo.Descriptor\obj\**;..\Stack\HQ.Lingo\src\HQ.Lingo.Descriptor\bin\**" Link="Lingo.Descriptor\%(RecursiveDir)%(Filename)%(Extension)" />
    <Content Include="..\Stack\HQ.Zero\src\HQ.Zero\**\*.cs" Exclude="..\Stack\HQ.Zero\src\HQ.Zero\obj\**;..\Stack\HQ.Zero\src\HQ.Zero\bin\**" Link="Zero\%(RecursiveDir)%(Filename)%(Extension)" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Dapper" Version="1.50.5" />
    <PackageReference Include="DotLiquid" Version="2.0.298" />
    <PackageReference Include="Humanizer" Version="2.5.1" />
    <PackageReference Include="ImpromptuInterface" Version="7.0.1" />
    <PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" Version="2.1.2" />
    <PackageReference Include="Microsoft.AspNetCore.Http.Abstractions" Version="2.1.1" />
    <PackageReference Include="Microsoft.AspNetCore.Identity" Version="2.1.6" />
    <PackageReference Include="Microsoft.AspNetCore.Mvc" Version="2.1.3" />
    <PackageReference Include="Microsoft.AspNetCore.NodeServices" Version="2.1.1" />
    <PackageReference Include="Microsoft.AspNetCore.ResponseCompression" Version="2.1.1" />
    <PackageReference Include="Microsoft.AspNetCore.TestHost" Version="2.1.1" />
    <PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="2.9.0" />
    <PackageReference Include="Microsoft.CSharp" Version="4.5.0" />
    <PackageReference Include="Microsoft.Extensions.Configuration.Json" Version="2.1.1" />
    <PackageReference Include="Microsoft.Extensions.DependencyInjection" Version="2.1.1" />
    <PackageReference Include="Microsoft.Extensions.DependencyModel" Version="2.1.0" />
    <PackageReference Include="Microsoft.Extensions.Identity.Stores" Version="2.1.6" />
    <PackageReference Include="Microsoft.Extensions.Logging.TraceSource" Version="2.1.1" />
    <PackageReference Include="Microsoft.Extensions.Options" Version="2.1.1" />
    <PackageReference Include="Newtonsoft.Json" Version="11.0.2" />
    <PackageReference Include="Sodium.Core" Version="1.2.0" />
    <PackageReference Include="System.Collections.Immutable" Version="1.5.0" />
    <PackageReference Include="System.Reflection.Emit" Version="4.3.0" />
    <PackageReference Include="System.Reflection.Emit.ILGeneration" Version="4.3.0" />
    <PackageReference Include="System.Reflection.Emit.Lightweight" Version="4.3.0" />
    <PackageReference Include="System.Runtime.Loader" Version="4.3.0" />
    <PackageReference Include="xunit" Version="2.4.1" />
    
  </ItemGroup>

  <Target Name="MergeLinkedSource" BeforeTargets="Build">
    <Copy SourceFiles="%(Content.Identity)" DestinationFiles="%(Content.Link)" SkipUnchangedFiles="true" OverwriteReadOnlyFiles="true" Condition="'%(Content.Link)' != ''" />
  </Target>

</Project>